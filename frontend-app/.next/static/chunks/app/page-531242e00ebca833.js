(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{25119:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(65531);let a=(0,s.Z)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},65883:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(65531);let a=(0,s.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},41827:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(65531);let a=(0,s.Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},55340:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(65531);let a=(0,s.Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},67972:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(65531);let a=(0,s.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},40876:function(e,t,r){Promise.resolve().then(r.bind(r,58545))},58545:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var s=r(57437),a=r(28719),l=r(41827);function SearchBar(){return(0,s.jsx)("div",{className:"flex justify-center w-full max-w-4xl mx-auto my-6",children:(0,s.jsxs)("div",{className:"flex items-center bg-white rounded-full border border-gray-200 shadow-md hover:shadow-lg transition cursor-pointer divide-x divide-gray-200 w-full",children:[(0,s.jsxs)("div",{className:"flex-1 px-8 py-3 hover:bg-gray-100 rounded-l-full transition",children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-800",children:"Alamat"}),(0,s.jsx)("input",{type:"text",placeholder:"Cari destinasi laundry",className:"w-full bg-transparent text-sm text-gray-600 focus:outline-none placeholder-gray-400 truncate"})]}),(0,s.jsxs)("div",{className:"flex-1 px-8 py-3 hover:bg-gray-100 transition",children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-800",children:"Kapan"}),(0,s.jsx)("input",{type:"text",placeholder:"Tambahkan tanggal",className:"w-full bg-transparent text-sm text-gray-600 focus:outline-none placeholder-gray-400 truncate"})]}),(0,s.jsxs)("div",{className:"flex-1 px-8 py-3 hover:bg-gray-100 transition relative",children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-gray-800",children:"Berat"}),(0,s.jsx)("input",{type:"number",placeholder:"Estimasi berat (kg)",className:"w-full bg-transparent text-sm text-gray-600 focus:outline-none placeholder-gray-400 truncate"})]}),(0,s.jsx)("div",{className:"pr-2 pl-2",children:(0,s.jsxs)("button",{className:"bg-[#FF385C] hover:bg-[#E31C5F] text-white p-3 rounded-full transition flex items-center justify-center",children:[(0,s.jsx)(l.Z,{size:20,strokeWidth:2.5}),(0,s.jsx)("span",{className:"hidden",children:"Cari"})]})})]})})}var n=r(2265),i=r(55340),c=r(61396),o=r.n(c);function StoreCard(e){let{id:t,name:r,address:a,rating:l,reviewCount:n,image:c,priceStart:d}=e;return(0,s.jsx)(o(),{href:"/store/".concat(t),children:(0,s.jsxs)("div",{className:"group cursor-pointer",children:[(0,s.jsxs)("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[c?(0,s.jsx)("img",{src:c,alt:r,className:"object-cover w-full h-full group-hover:scale-105 transition duration-300"}):(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 font-bold text-2xl",children:"Store"}),(0,s.jsx)("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-md shadow-sm",children:(0,s.jsx)("span",{className:"text-xs font-bold text-gray-800",children:"Super Laundry"})})]}),(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:underline truncate",children:r}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(i.Z,{size:14,fill:"currentColor",className:"text-black"}),(0,s.jsx)("span",{className:"text-sm font-light",children:l})]})]}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-0 line-clamp-1",children:a}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-0",children:"2 km away"}),(0,s.jsxs)("div",{className:"mt-2 flex items-baseline gap-1",children:[(0,s.jsxs)("span",{className:"font-semibold text-black",children:["Rp ",d?d.toLocaleString():"5,000"]}),(0,s.jsx)("span",{className:"text-gray-900 text-sm font-light",children:" / kg"})]})]})})}async function fetchStores(){let e=await fetch("http://localhost:3000/graphql-store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n    query GetStores {\n      stores {\n        id\n        name\n        address\n        rating\n        reviewCount\n        images\n        services {\n          price\n        }\n      }\n    }\n  "})}),{data:t,errors:r}=await e.json();if(r)throw Error(r[0].message);return t.stores}function Home(){let[e,t]=(0,n.useState)([]),[r,l]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{fetchStores().then(e=>t(e)).catch(e=>console.error("Failed to fetch stores:",e)).finally(()=>l(!1))},[]),(0,s.jsxs)("main",{className:"min-h-screen bg-white",children:[(0,s.jsx)(a.Z,{}),(0,s.jsxs)("div",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-[1600px] mx-auto",children:[(0,s.jsx)("section",{className:"mb-8 flex justify-center",children:(0,s.jsx)(SearchBar,{})}),(0,s.jsx)("section",{className:"mb-8 flex gap-8 overflow-x-auto pb-4 hide-scrollbar justify-center",children:["Washing","Dry Clean","Ironing","Shoes","Carpets","Express"].map((e,t)=>(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 min-w-[64px] cursor-pointer opacity-60 hover:opacity-100 hover:border-b-2 hover:border-black pb-2 transition",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-gray-400 rounded-full"}),(0,s.jsx)("span",{className:"text-xs font-semibold",children:e})]},t))}),r?(0,s.jsx)("div",{className:"text-center py-20",children:"Loading stores..."}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-6 gap-y-10",children:e.map(e=>(0,s.jsx)(StoreCard,{id:e.id,name:e.name,address:e.address,rating:e.rating,reviewCount:e.reviewCount,image:e.images&&e.images.length>0?e.images[0]:void 0,priceStart:e.services&&e.services.length>0?e.services[0].price:0},e.id))})]})]})}},28719:function(e,t,r){"use strict";r.d(t,{Z:function(){return Navbar}});var s=r(57437),a=r(61396),l=r.n(a),n=r(65531);let i=(0,n.Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),c=(0,n.Z)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var o=r(67972),d=r(25119),x=r(65883),h=r(2265),m=r(24033);function Navbar(){let[e,t]=(0,h.useState)(null),[r,a]=(0,h.useState)(!0),n=(0,m.useRouter)();(0,h.useEffect)(()=>{let fetchUser=async()=>{let e=localStorage.getItem("token");if(!e){a(!1);return}try{let r=await fetch("".concat("http://localhost:3000","/api/users/profile"),{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){let e=await r.json();t(e)}else localStorage.removeItem("token")}catch(e){console.error("Failed to fetch user:",e)}finally{a(!1)}};fetchUser()},[]);let u=(null==e?void 0:e.role)==="admin";return(0,s.jsx)("nav",{className:"fixed top-0 w-full z-50 bg-white border-b border-gray-200",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,s.jsx)(l(),{href:"/",className:"flex items-center gap-2",children:(0,s.jsx)("span",{className:"text-[#FF385C] text-2xl font-bold",children:"Smart Laundry"})})}),(0,s.jsxs)("div",{className:"hidden md:flex space-x-8",children:[(0,s.jsx)(l(),{href:"/",className:"text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Home"}),(0,s.jsx)("button",{className:"text-gray-900 border-b-2 border-black px-3 py-2 text-sm font-medium",children:"Services"}),(0,s.jsx)(l(),{href:"/track",className:"text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Track Order"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"hidden md:block text-sm font-medium text-gray-900 hover:bg-gray-100 px-4 py-2 rounded-full cursor-pointer transition",children:"Join as Partner"}),(0,s.jsx)("div",{className:"p-2 hover:bg-gray-100 rounded-full cursor-pointer",children:(0,s.jsx)(i,{size:18})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 border border-gray-300 rounded-full p-1 pl-3 hover:shadow-md transition cursor-pointer relative group",children:[(0,s.jsx)(c,{size:18}),(0,s.jsx)("div",{className:"rounded-full p-1 text-white ".concat(u?"bg-[#FF385C]":"bg-gray-500"),children:(0,s.jsx)(o.Z,{size:18,fill:"white"})}),(0,s.jsx)("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-xl shadow-[0_6px_20px_rgba(0,0,0,0.12)] py-2 hidden group-hover:block border border-gray-100",children:r?(0,s.jsx)("div",{className:"px-4 py-2 text-sm text-gray-500",children:"Loading..."}):e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"px-4 py-3 hover:bg-gray-50 text-sm font-semibold text-gray-900 border-b border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Hello, ",e.name,u&&(0,s.jsx)("span",{className:"text-xs bg-[#FF385C] text-white px-2 py-0.5 rounded-full",children:"Admin"})]}),(0,s.jsx)("div",{className:"text-xs text-gray-400 font-normal",children:e.email})]}),u&&(0,s.jsxs)(l(),{href:"/dashboard",className:"flex items-center gap-2 px-4 py-2 hover:bg-gray-50 text-sm text-[#FF385C] font-medium",children:[(0,s.jsx)(d.Z,{size:14}),"Admin Dashboard"]}),(0,s.jsx)(l(),{href:"/profile",className:"block px-4 py-2 hover:bg-gray-50 text-sm text-gray-700",children:"My Profile"}),(0,s.jsx)(l(),{href:"/track",className:"block px-4 py-2 hover:bg-gray-50 text-sm text-gray-700",children:"Track Orders"}),(0,s.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,s.jsxs)("div",{onClick:()=>{localStorage.removeItem("token"),t(null),n.push("/"),n.refresh()},className:"block px-4 py-2 hover:bg-gray-50 text-sm text-red-600 cursor-pointer flex items-center gap-2",children:[(0,s.jsx)(x.Z,{size:14})," Log out"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l(),{href:"/login",className:"block px-4 py-2 hover:bg-gray-50 text-sm font-semibold text-gray-900",children:"Log in"}),(0,s.jsx)(l(),{href:"/register",className:"block px-4 py-2 hover:bg-gray-50 text-sm text-gray-500",children:"Sign up"}),(0,s.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,s.jsx)(l(),{href:"/host",className:"block px-4 py-2 hover:bg-gray-50 text-sm text-gray-500",children:"Laundry your home"}),(0,s.jsx)("div",{className:"block px-4 py-2 hover:bg-gray-50 text-sm text-gray-500",children:"Help Center"})]})})]})]})]})})})}}},function(e){e.O(0,[933,971,472,744],function(){return e(e.s=40876)}),_N_E=e.O()}]);