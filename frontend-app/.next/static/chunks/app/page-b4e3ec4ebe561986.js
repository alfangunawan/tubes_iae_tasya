(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5340:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});var t=s(5531);let a=(0,t.Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},7972:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});var t=s(5531);let a=(0,t.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},876:function(e,r,s){Promise.resolve().then(s.bind(s,3654))},3654:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return Home}});var t=s(7437),a=s(7924),l=s(5531);let n=(0,l.Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);function SearchBar(){return(0,t.jsx)("div",{className:"flex justify-center w-full max-w-4xl mx-auto my-6",children:(0,t.jsxs)("div",{className:"flex items-center bg-white rounded-full border border-gray-200 shadow-md hover:shadow-lg transition cursor-pointer divide-x divide-gray-200 w-full",children:[(0,t.jsxs)("div",{className:"flex-1 px-8 py-3 hover:bg-gray-100 rounded-l-full transition",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-800",children:"Alamat"}),(0,t.jsx)("input",{type:"text",placeholder:"Cari destinasi laundry",className:"w-full bg-transparent text-sm text-gray-600 focus:outline-none placeholder-gray-400 truncate"})]}),(0,t.jsxs)("div",{className:"flex-1 px-8 py-3 hover:bg-gray-100 transition",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-800",children:"Kapan"}),(0,t.jsx)("input",{type:"text",placeholder:"Tambahkan tanggal",className:"w-full bg-transparent text-sm text-gray-600 focus:outline-none placeholder-gray-400 truncate"})]}),(0,t.jsxs)("div",{className:"flex-1 px-8 py-3 hover:bg-gray-100 transition relative",children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-800",children:"Berat"}),(0,t.jsx)("input",{type:"number",placeholder:"Estimasi berat (kg)",className:"w-full bg-transparent text-sm text-gray-600 focus:outline-none placeholder-gray-400 truncate"})]}),(0,t.jsx)("div",{className:"pr-2 pl-2",children:(0,t.jsxs)("button",{className:"bg-[#FF385C] hover:bg-[#E31C5F] text-white p-3 rounded-full transition flex items-center justify-center",children:[(0,t.jsx)(n,{size:20,strokeWidth:2.5}),(0,t.jsx)("span",{className:"hidden",children:"Cari"})]})})]})})}var i=s(2265),c=s(5340),o=s(1396),d=s.n(o);function StoreCard(e){let{id:r,name:s,address:a,rating:l,reviewCount:n,image:i,priceStart:o}=e;return(0,t.jsx)(d(),{href:"/store/".concat(r),children:(0,t.jsxs)("div",{className:"group cursor-pointer",children:[(0,t.jsxs)("div",{className:"relative aspect-[20/19] overflow-hidden rounded-xl bg-gray-200 mb-3",children:[i?(0,t.jsx)("img",{src:i,alt:s,className:"object-cover w-full h-full group-hover:scale-105 transition duration-300"}):(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 font-bold text-2xl",children:"Store"}),(0,t.jsx)("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-md shadow-sm",children:(0,t.jsx)("span",{className:"text-xs font-bold text-gray-800",children:"Super Laundry"})})]}),(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:underline truncate",children:s}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.Z,{size:14,fill:"currentColor",className:"text-black"}),(0,t.jsx)("span",{className:"text-sm font-light",children:l})]})]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-0 line-clamp-1",children:a}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-0",children:"2 km away"}),(0,t.jsxs)("div",{className:"mt-2 flex items-baseline gap-1",children:[(0,t.jsxs)("span",{className:"font-semibold text-black",children:["Rp ",o?o.toLocaleString():"5,000"]}),(0,t.jsx)("span",{className:"text-gray-900 text-sm font-light",children:" / kg"})]})]})})}async function fetchStores(){let e=await fetch("http://localhost:3000/graphql-store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n    query GetStores {\n      stores {\n        id\n        name\n        address\n        rating\n        reviewCount\n        images\n        services {\n          price\n        }\n      }\n    }\n  "})}),{data:r,errors:s}=await e.json();if(s)throw Error(s[0].message);return r.stores}function Home(){let[e,r]=(0,i.useState)([]),[s,l]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{fetchStores().then(e=>r(e)).catch(e=>console.error("Failed to fetch stores:",e)).finally(()=>l(!1))},[]),(0,t.jsxs)("main",{className:"min-h-screen bg-white",children:[(0,t.jsx)(a.Z,{}),(0,t.jsxs)("div",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-[1600px] mx-auto",children:[(0,t.jsx)("section",{className:"mb-8 flex justify-center",children:(0,t.jsx)(SearchBar,{})}),(0,t.jsx)("section",{className:"mb-8 flex gap-8 overflow-x-auto pb-4 hide-scrollbar justify-center",children:["Washing","Dry Clean","Ironing","Shoes","Carpets","Express"].map((e,r)=>(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 min-w-[64px] cursor-pointer opacity-60 hover:opacity-100 hover:border-b-2 hover:border-black pb-2 transition",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-gray-400 rounded-full"}),(0,t.jsx)("span",{className:"text-xs font-semibold",children:e})]},r))}),s?(0,t.jsx)("div",{className:"text-center py-20",children:"Loading stores..."}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-6 gap-y-10",children:e.map(e=>(0,t.jsx)(StoreCard,{id:e.id,name:e.name,address:e.address,rating:e.rating,reviewCount:e.reviewCount,image:e.images&&e.images.length>0?e.images[0]:void 0,priceStart:e.services&&e.services.length>0?e.services[0].price:0},e.id))})]})]})}},7924:function(e,r,s){"use strict";s.d(r,{Z:function(){return Navbar}});var t=s(7437),a=s(1396),l=s.n(a),n=s(5531);let i=(0,n.Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),c=(0,n.Z)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var o=s(7972);let d=(0,n.Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var x=s(2265),h=s(4033);function Navbar(){let[e,r]=(0,x.useState)(null),[s,a]=(0,x.useState)(!0),n=(0,h.useRouter)();return(0,x.useEffect)(()=>{let fetchUser=async()=>{let e=localStorage.getItem("token");if(!e){a(!1);return}try{let s=await fetch("".concat("http://localhost:3000","/api/users/profile"),{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();r(e)}else localStorage.removeItem("token")}catch(e){console.error("Failed to fetch user:",e)}finally{a(!1)}};fetchUser()},[]),(0,t.jsx)("nav",{className:"fixed top-0 w-full z-50 bg-white border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,t.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,t.jsx)(l(),{href:"/",className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"text-[#FF385C] text-2xl font-bold",children:"Smart Laundry"})})}),(0,t.jsxs)("div",{className:"hidden md:flex space-x-8",children:[(0,t.jsx)(l(),{href:"/",className:"text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Home"}),(0,t.jsx)("button",{className:"text-gray-900 border-b-2 border-black px-3 py-2 text-sm font-medium",children:"Services"}),(0,t.jsx)(l(),{href:"/track",className:"text-gray-500 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Track Order"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"hidden md:block text-sm font-medium text-gray-900 hover:bg-gray-100 px-4 py-2 rounded-full cursor-pointer transition",children:"Join as Partner"}),(0,t.jsx)("div",{className:"p-2 hover:bg-gray-100 rounded-full cursor-pointer",children:(0,t.jsx)(i,{size:18})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 border border-gray-300 rounded-full p-1 pl-3 hover:shadow-md transition cursor-pointer relative group",children:[(0,t.jsx)(c,{size:18}),(0,t.jsx)("div",{className:"bg-gray-500 rounded-full p-1 text-white",children:(0,t.jsx)(o.Z,{size:18,fill:"white"})}),(0,t.jsx)("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-xl shadow-[0_6px_20px_rgba(0,0,0,0.12)] py-2 hidden group-hover:block border border-gray-100",children:s?(0,t.jsx)("div",{className:"px-4 py-2 text-sm text-gray-500",children:"Loading..."}):e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"px-4 py-3 hover:bg-gray-50 text-sm font-semibold text-gray-900 border-b border-gray-100",children:[(0,t.jsxs)("div",{children:["Hello, ",e.name]}),(0,t.jsx)("div",{className:"text-xs text-gray-400 font-normal",children:e.email})]}),(0,t.jsx)(l(),{href:"/profile",className:"block px-4 py-2 hover:bg-gray-50 text-sm text-gray-700",children:"My Profile"}),(0,t.jsx)(l(),{href:"/history",className:"block px-4 py-2 hover:bg-gray-50 text-sm text-gray-700",children:"Order History"}),(0,t.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,t.jsxs)("div",{onClick:()=>{localStorage.removeItem("token"),r(null),n.push("/"),n.refresh()},className:"block px-4 py-2 hover:bg-gray-50 text-sm text-red-600 cursor-pointer flex items-center gap-2",children:[(0,t.jsx)(d,{size:14})," Log out"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l(),{href:"/login",className:"block px-4 py-2 hover:bg-gray-50 text-sm font-semibold text-gray-900",children:"Log in"}),(0,t.jsx)(l(),{href:"/register",className:"block px-4 py-2 hover:bg-gray-50 text-sm text-gray-500",children:"Sign up"}),(0,t.jsx)("div",{className:"border-t border-gray-200 my-2"}),(0,t.jsx)(l(),{href:"/host",className:"block px-4 py-2 hover:bg-gray-50 text-sm text-gray-500",children:"Laundry your home"}),(0,t.jsx)("div",{className:"block px-4 py-2 hover:bg-gray-50 text-sm text-gray-500",children:"Help Center"})]})})]})]})]})})})}}},function(e){e.O(0,[933,971,472,744],function(){return e(e.s=876)}),_N_E=e.O()}]);